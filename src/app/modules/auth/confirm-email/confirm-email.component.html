<div class="flex items-center justify-center min-h-screen bg-gray-100">
  <div class="w-full max-w-md p-8 bg-white rounded-2xl shadow-lg">
    <h2 class="text-3xl font-bold mb-8 text-center text-gray-800">
      Digite o codigo de verificação
    </h2>
    <p class="mb-3">
      Um email foi enviado ao email <strong>{{ emailUser }}</strong> com um
      codigo de verificação.
    </p>

    <form [formGroup]="form" (ngSubmit)="handleConfirmEmail()" class="mt-6">
      <p-floatlabel>
        <input
          pInputText
          id="code"
          formControlName="code"
          autocomplete="off"
          class="w-full"
          [maxLength]="4"
        />
        <label for="code">Codigo de verificação</label>
      </p-floatlabel>

      <div
        *ngIf="code?.touched && code?.errors?.['required']"
        class="text-red-500 text-sm mt-1"
      >
        Codigo é obrigatório
      </div>
      <div
        *ngIf="code?.touched && code?.errors?.['pattern']"
        class="text-red-500 text-sm"
      >
        O código deve ter exatamente 4 caracteres alfanuméricos
      </div>

      <p-button
        type="submit"
        label="Confirmar"
        severity="primary"
        styleClass="w-full mt-4"
      ></p-button>
    </form>
    <div class="mt-3 flex flex-col gap-2 text-center">
      <p-button
        [label]="
          codeSendEmailRetry > 0
            ? 'Aguarde ' + codeSendEmailRetry + 's'
            : 'Enviar email novamente'
        "
        severity="info"
        (click)="retrySendEmail()"
        [disabled]="codeSendEmailRetry > 0"
      ></p-button>

      <button
        class="text-blue-600 hover:underline cursor-pointer"
        (click)="returnSendEmail()"
      >
        Voltar
      </button>
    </div>
  </div>
</div>
